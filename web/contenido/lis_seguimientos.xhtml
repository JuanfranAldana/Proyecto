<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html   xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:ui="http://java.sun.com/jsf/facelets">

    <!-- Vista correspondiente a la Img. 44 Consulta de Seguimientos del Proyecto -->
    
    <ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                    template="./../plantillas/plantilla1.xhtml">

        <!-- Contenedor -->
        <ui:define name="content">
            <!-- Formulario para mostrar lista de seguimientos por proyecto -->
            <h:form id="formSeguimientos" >
                <div class="table table-responsive table-bordered " >
                    <table id="seguimiento" class="table table-striped table-bordered table-hover table-condensed">
                        
                        <!-- Cabecera de la tabla -->
                        <thead>
                            <!-- Título -->
                            <tr><center><h4><font color="507642">SEGUIMIENTO POR PROYECTO</font></h4></center></tr>
                            <tr>
                                <th><center>Fecha Inicio</center></th>
                                <th><center>Fecha Alerta</center></th>
                                <th><center>Fecha Fin</center></th>
                                <th><center>Descripción</center></th>
                                <th><center>Consultar</center></th>
                            </tr>
                        </thead>
                        
                        <!-- Cuerpo de la tabla -->
                        <tbody>
                            <ui:repeat value="#{proyectosControlador.proyectoSeleccionado.seguimientosList}" var="seguimiento" >
                                <tr>
                                    <td align="center">
                                        <h:outputText value="#{seguimiento.seguiFechaIni}">
                                            <f:convertDateTime pattern="dd-MM-yyyy"/>
                                        </h:outputText>
                                    </td>
                                    <td align="center">
                                        <h:outputText value="#{seguimiento.seguiFechaAlerta}">
                                            <f:convertDateTime pattern="dd-MM-yyyy"/>
                                        </h:outputText>
                                    </td>
                                    <td align="center">
                                        <h:outputText value="#{seguimiento.seguiFechaFin}">
                                            <f:convertDateTime pattern="dd-MM-yyyy"/>
                                        </h:outputText>
                                    </td>
                                    <td align="left">#{seguimiento.seguiObserva}</td>
                                    <td align="center">
                                        <h:commandLink value="Ver" class="btn btn-default btn-xs" action="ver_seguimiento.jsf">
                                            <f:setPropertyActionListener value="#{seguimiento}" target="#{proyectosControlador.seguimientoSeleccionado}"  />
                                        </h:commandLink>
                                    </td>
                                </tr>
                            </ui:repeat>
                        </tbody> 
                        
                    </table>
                </div>
                
                <!-- Para botón "Regresar" -->
                <div class="form-group">
                    <div align="center" class="col-md-12">
                            <!-- Botón "Regresar"-->
                            <h:commandLink value="" class="btn btn-default btn-xm" action="ver_perfiles.jsf">
                                <span class="glyphicon glyphicon-share-alt"></span>Regresar
                            </h:commandLink>
                    </div><br/>
                </div><br/>
           
           </h:form>
        </ui:define>
       
        <ui:define name="scripts">
            <script>
                $(document).ready(function () {
                    $('#seguimiento').dataTable(
                            {
                                "oLanguage": {
                                    "sProcessing": "Procesando...",
                                    "sLengthMenu": "Mostrar _MENU_ registros",
                                    "sZeroRecords": "No se encontraron resultados",
                                    "sEmptyTable": "Ningún dato disponible en esta tabla",
                                    "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                                    "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                                    "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                                    "sInfoPostFix": "",
                                    "sSearch": "Buscar:",
                                    "sUrl": "",
                                    "sInfoThousands": ",",
                                    "sLoadingRecords": "Cargando...",
                                    "oPaginate": {
                                        "sFirst": "Primero",
                                        "sLast": "Último",
                                        "sNext": "Siguiente",
                                        "sPrevious": "Anterior"
                                    },
                                    "oAria": {
                                        "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                                        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                                    }
                                }
                            }
                    );
                });
            </script>
        </ui:define>
        
    </ui:composition>
</html>